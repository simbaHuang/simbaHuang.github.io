<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>gulp使用笔记 | Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="随着模块化思想的流行，越来越多的前端开发已经介入到模块化开发当中来了，学习一种自动化构建工具还是很有必要的。但是伴随着越来越多的构建工具的出现，选择困难症的同学估计已经哭晕在厕所。不管是grunt、gulp、coolie还是webpack等等，跟着感觉走，选择你喜欢的那个，果断翻牌吧。">
<meta name="keywords" content="hexo,gulp">
<meta property="og:type" content="article">
<meta property="og:title" content="gulp使用笔记">
<meta property="og:url" content="http://yoursite.com/2016/02/26/gulp使用笔记/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="随着模块化思想的流行，越来越多的前端开发已经介入到模块化开发当中来了，学习一种自动化构建工具还是很有必要的。但是伴随着越来越多的构建工具的出现，选择困难症的同学估计已经哭晕在厕所。不管是grunt、gulp、coolie还是webpack等等，跟着感觉走，选择你喜欢的那个，果断翻牌吧。">
<meta property="og:image" content="http://7xp0vg.com1.z0.glb.clouddn.com/gulp.png">
<meta property="og:updated_time" content="2016-04-26T03:11:56.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="gulp使用笔记">
<meta name="twitter:description" content="随着模块化思想的流行，越来越多的前端开发已经介入到模块化开发当中来了，学习一种自动化构建工具还是很有必要的。但是伴随着越来越多的构建工具的出现，选择困难症的同学估计已经哭晕在厕所。不管是grunt、gulp、coolie还是webpack等等，跟着感觉走，选择你喜欢的那个，果断翻牌吧。">
<meta name="twitter:image" content="http://7xp0vg.com1.z0.glb.clouddn.com/gulp.png">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-gulp使用笔记" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/02/26/gulp使用笔记/" class="article-date">
  <time datetime="2016-02-26T07:30:31.000Z" itemprop="datePublished">2016-02-26</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/前端记录/">前端记录</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      gulp使用笔记
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>随着模块化思想的流行，越来越多的前端开发已经介入到模块化开发当中来了，学习一种自动化构建工具还是很有必要的。但是伴随着越来越多的构建工具的出现，选择困难症的同学估计已经哭晕在厕所。不管是grunt、gulp、coolie还是webpack等等，跟着感觉走，选择你喜欢的那个，果断翻牌吧。</p>
<a id="more"></a>
<h1 id="吹水"><a href="#吹水" class="headerlink" title="吹水"></a>吹水</h1><p>所以我们现在就来聊聊gulp吧。说实话，众多构建工具我就看过grunt和gulp，然后果断的选择了gulp（跟着感觉走的~~）。其实很多同学不要盲目的跟风，去年的前端圈可谓是乱世，各种撕逼，各种跟风也是看醉了。我们这种小老百姓还是好好的做好自己就可以了。</p>
<p>好了，我们还是来看看gulp吧。</p>
<h1 id="开始"><a href="#开始" class="headerlink" title="开始"></a>开始</h1><p>官网介绍gulp用了四个词<code>易于使用</code>、<code>构建快速</code>、<code>插件高质</code>、<code>易于学习</code>。</p>
<p>首先安装gulp，gulp也是基于node安装的</p>
<p>首先你需要全局安装 ,命令提示符执行<code>gulp -v</code>，出现版本号即为正确安装。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ npm install --global gulp</div></pre></td></tr></table></figure></p>
<p>之后来到项目目录下面安装依赖<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ npm install --save-dev gulp</div></pre></td></tr></table></figure></p>
<p>安装完成后，我们需要新建一个package.json文件<br><code>ps</code>：package.json是基于nodejs项目必不可少的配置文件，它是存放在项目根目录的普通json文件<br>它是一个这样的文件<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">  <span class="string">"name"</span>: <span class="string">"test"</span>, <span class="comment">//项目名称（必须）</span></div><div class="line">  <span class="string">"version"</span>: <span class="string">"1.0.0"</span>, <span class="comment">//项目版本（必须）</span></div><div class="line">  <span class="string">"description"</span>: <span class="string">"is a test"</span>, <span class="comment">//项目描述（必须）</span></div><div class="line">  <span class="string">"main"</span>: <span class="string">"index.js"</span>, <span class="comment">//项目主页</span></div><div class="line">  <span class="string">"scripts"</span>: &#123; <span class="comment">//项目资源库</span></div><div class="line">    <span class="string">"test"</span>: <span class="string">"echo \"Error: no test specified\" &amp;&amp; exit 1"</span></div><div class="line">  &#125;,</div><div class="line">  <span class="string">"author"</span>: <span class="string">""</span>, <span class="comment">//项目作者信息</span></div><div class="line">  <span class="string">"license"</span>: <span class="string">"ISC"</span>, <span class="comment">//项目许可协议</span></div><div class="line">  <span class="string">"devDependencies"</span>: &#123; <span class="comment">//项目依赖的插件</span></div><div class="line">    <span class="string">"gulp"</span>: <span class="string">"^3.9.0"</span>,</div><div class="line">    <span class="string">"gulp-clean"</span>: <span class="string">"^0.3.1"</span>,</div><div class="line">    <span class="string">"gulp-concat"</span>: <span class="string">"^2.6.0"</span>,</div><div class="line">    <span class="string">"gulp-imagemin"</span>: <span class="string">"^2.4.0"</span>,</div><div class="line">    <span class="string">"gulp-jshint"</span>: <span class="string">"^1.12.0"</span>,</div><div class="line">    <span class="string">"gulp-less"</span>: <span class="string">"^3.0.4"</span>,</div><div class="line">    <span class="string">"gulp-livereload"</span>: <span class="string">"^3.8.1"</span>,</div><div class="line">    <span class="string">"gulp-minify-css"</span>: <span class="string">"^1.2.1"</span>,</div><div class="line">    <span class="string">"gulp-rename"</span>: <span class="string">"^1.2.2"</span>,</div><div class="line">    <span class="string">"gulp-spritesmith"</span>: <span class="string">"0.0.2"</span>,</div><div class="line">    <span class="string">"gulp-uglify"</span>: <span class="string">"^1.5.1"</span>,</div><div class="line">    <span class="string">"tiny-lr"</span>: <span class="string">"^0.2.1"</span>,</div><div class="line">    <span class="string">"webpack"</span>: <span class="string">"^1.12.9"</span></div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>之后我们就需要新建我们的配置gulpfile.js文件了，如下<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">var gulp = require(&apos;gulp&apos;);</div><div class="line">gulp.task(&apos;default&apos;, function() &#123;</div><div class="line">  // 将你的默认的任务代码放在这</div><div class="line">&#125;);</div></pre></td></tr></table></figure></p>
<p>最后当然是运行了，ps：执行 <code>gulp</code> 或 <code>gulp default</code> 都会调用default任务里的所有任务。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ gulp</div></pre></td></tr></table></figure></p>
<p>文件比较简陋，详细的教程可在<a href="http://www.gulpjs.com.cn/" target="_blank" rel="external">gulp官网查看</a><br>另推荐一个gulp详细入门教程：<a href="http://www.ydcss.com/archives/18" target="_blank" rel="external">gulp详细入门教程</a></p>
<p>最后附上我的gulp配置文件<br>项目目录：<br><img src="http://7xp0vg.com1.z0.glb.clouddn.com/gulp.png" alt=""></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div><div class="line">166</div><div class="line">167</div><div class="line">168</div><div class="line">169</div><div class="line">170</div><div class="line">171</div><div class="line">172</div><div class="line">173</div><div class="line">174</div><div class="line">175</div><div class="line">176</div><div class="line">177</div><div class="line">178</div><div class="line">179</div><div class="line">180</div><div class="line">181</div><div class="line">182</div><div class="line">183</div><div class="line">184</div><div class="line">185</div><div class="line">186</div><div class="line">187</div><div class="line">188</div><div class="line">189</div><div class="line">190</div><div class="line">191</div><div class="line">192</div><div class="line">193</div><div class="line">194</div><div class="line">195</div><div class="line">196</div><div class="line">197</div><div class="line">198</div><div class="line">199</div><div class="line">200</div><div class="line">201</div><div class="line">202</div><div class="line">203</div><div class="line">204</div><div class="line">205</div><div class="line">206</div><div class="line">207</div><div class="line">208</div><div class="line">209</div><div class="line">210</div><div class="line">211</div><div class="line">212</div><div class="line">213</div><div class="line">214</div><div class="line">215</div><div class="line">216</div><div class="line">217</div><div class="line">218</div><div class="line">219</div><div class="line">220</div></pre></td><td class="code"><pre><div class="line">/* -------------------------------- 依赖插件列表 -------------------------------------- */</div><div class="line"> var gulp = require(&apos;gulp&apos;);</div><div class="line"> </div><div class="line"> //中间语言</div><div class="line"> var less = require(&apos;gulp-less&apos;), //less</div><div class="line">     autoprefixer = require(&apos;gulp-autoprefixer&apos;); // 自动添加前缀</div><div class="line"> </div><div class="line"> // 文件重命名</div><div class="line"> var rename = require(&apos;gulp-rename&apos;);</div><div class="line"> </div><div class="line"> //压缩js css  img</div><div class="line"> var minifyCss = require(&apos;gulp-minify-css&apos;), // css 压缩</div><div class="line">     csso = require(&apos;gulp-csso&apos;),</div><div class="line">     imagemin = require(&apos;gulp-imagemin&apos;), // imgs 压缩</div><div class="line">     minifyHtml = require(&apos;gulp-minify-html&apos;), // html 压缩</div><div class="line">     uglify = require(&apos;gulp-uglify&apos;), // js 压缩</div><div class="line">     jshint = require(&apos;gulp-jshint&apos;); // js 检测</div><div class="line"> </div><div class="line"> //sprite技术</div><div class="line"> var spritesmith = require(&apos;gulp.spritesmith&apos;);</div><div class="line"> var merge = require(&apos;merge-stream&apos;);</div><div class="line"> var buffer = require(&apos;vinyl-buffer&apos;);</div><div class="line"> </div><div class="line"> // 合并文件</div><div class="line"> var concat = require(&apos;gulp-concat&apos;);</div><div class="line"> </div><div class="line"> // 提示</div><div class="line"> var notify = require(&apos;gulp-notify&apos;);</div><div class="line"> </div><div class="line"> //缓存文件</div><div class="line"> var cache = require(&apos;gulp-cache&apos;);</div><div class="line"> </div><div class="line"> //增加更新相关插件</div><div class="line"> var RevAll = require(&apos;gulp-rev-all&apos;);</div><div class="line"> var revReplace = require(&apos;gulp-rev-replace&apos;);</div><div class="line"> //var rimraf = require(&apos;gulp-rimraf&apos;);</div><div class="line"> var Path = require(&apos;path&apos;);</div><div class="line"> //var Gutil = require(&apos;gulp-util&apos;);</div><div class="line"> var filter = require(&apos;gulp-filter&apos;);</div><div class="line"> </div><div class="line"> // 删除</div><div class="line"> var clean = require(&apos;gulp-clean&apos;),</div><div class="line">     del = require(&apos;del&apos;);</div><div class="line"> </div><div class="line"> // 顺序执行任务</div><div class="line"> var runSequence = require(&apos;run-sequence&apos;);</div><div class="line"> </div><div class="line"> //server</div><div class="line"> var livereload = require(&apos;gulp-livereload&apos;);</div><div class="line"> </div><div class="line"> /* -------------------  全局变量 ----------------- */</div><div class="line"> var withoutAMDfilterReg = /_withoutAMDtoUpdate/;</div><div class="line"> var isJsFile = /.+\.js$/;</div><div class="line"> var isMinJsFile = /\.min\.js$/;</div><div class="line"> var isCssFile = /.+\.css$/;</div><div class="line"> var condition = true;</div><div class="line"> </div><div class="line"> </div><div class="line"> /* -------------------------------- 路径配置 -------------------------------------- */</div><div class="line"> /* ---------- 开发路径 ----------*/</div><div class="line"> var src = &#123;</div><div class="line">     html : &apos;./static/pages/*.html&apos;,</div><div class="line">     less : &apos;./static/resource/less/*.less&apos;,</div><div class="line">     js : [&apos;./static/resource/js/*.js&apos;],</div><div class="line">     css : &apos;./static/resource/css/*.css&apos;,</div><div class="line">     images : &apos;./static/resource/images/**/*&apos;,</div><div class="line">     spriteImgs : &apos;./static/resource/spriteImgs/*.png&apos;,</div><div class="line">     imgsPath : &apos;./static/resource/images&apos;,</div><div class="line">     cssPath : &apos;./static/resource/css&apos;,</div><div class="line">     plugin : &apos;./static/resource/plugin/**&apos;,</div><div class="line">     cssStyle : &apos;./static/resource/css/style.css&apos;</div><div class="line"> &#125;</div><div class="line"> </div><div class="line"> /* ---------- 生产路径 ----------*/</div><div class="line"> var dest = &#123;</div><div class="line">     html : &apos;./dist/pages&apos;,</div><div class="line">     css : &apos;./dist/resource/css&apos;,</div><div class="line">     js : &apos;./dist/resource/js&apos;,</div><div class="line">     images :&apos;./dist/resource/images&apos;,</div><div class="line">     plugin : &apos;./dist/resource/plugin&apos;,</div><div class="line">     all : [&apos;./dist/pages&apos;,&apos;./dist/resource/css&apos;,&apos;./dist/resource/js&apos;,&apos;./dist/resource/images&apos;,&apos;./dist/resource/plugin&apos;]</div><div class="line"> &#125;</div><div class="line"> </div><div class="line"> /* -------------------------------- 中间语言预处理任务 -------------------------------------- */</div><div class="line"> //less</div><div class="line"> gulp.task(&apos;less&apos;, function() &#123;</div><div class="line">     return gulp.src(src.less)</div><div class="line">         .pipe(less())</div><div class="line">         .pipe(autoprefixer(&apos;last 2 version&apos;, &apos;safari 5&apos;, &apos;ie 8&apos;, &apos;ie 9&apos;, &apos;opera 12.1&apos;, &apos;ios 6&apos;, &apos;android 4&apos;))</div><div class="line">         .pipe(gulp.dest(src.cssPath))</div><div class="line">         .pipe(notify(&#123; message: &apos;Less task complete&apos; &#125;));</div><div class="line"> &#125;);</div><div class="line"> </div><div class="line"> /*---------------------------------- 前端优化任务 -----------------------------------*/</div><div class="line"> //合并css</div><div class="line"> gulp.task(&apos;css_merge&apos;,[&apos;less&apos;],function()&#123;</div><div class="line">     return gulp.src(src.css)</div><div class="line">         .pipe(concat(&apos;style.css&apos;))</div><div class="line">         .pipe(gulp.dest(src.cssPath))</div><div class="line">         .pipe(notify(&#123; message: &apos;css_merge task complete&apos; &#125;));</div><div class="line"> &#125;)</div><div class="line"> </div><div class="line"> /* ---------  sprite技术 ---------*/</div><div class="line"> gulp.task(&apos;sprite&apos;,function()&#123;</div><div class="line">     var spriteData = gulp.src(src.spriteImgs)</div><div class="line">         .pipe(spritesmith(&#123;</div><div class="line">             imgName: &apos;sprite-icon.png&apos;,</div><div class="line">             cssName: &apos;sprite-css.css&apos;,</div><div class="line">             padding: 10</div><div class="line">         &#125;));</div><div class="line">     var imgStream = spriteData.img</div><div class="line">         .pipe(buffer())</div><div class="line">         .pipe(gulp.dest(src.imgsPath));</div><div class="line"> </div><div class="line">     var cssStream = spriteData.css</div><div class="line">         .pipe(csso())</div><div class="line">         .pipe(gulp.dest(src.cssPath));</div><div class="line"> </div><div class="line">     return merge(imgStream, cssStream);</div><div class="line"> &#125;)</div><div class="line"> </div><div class="line"> </div><div class="line"> /*---------------------------------- 压缩资源 -----------------------------------*/</div><div class="line"> //css压缩</div><div class="line"> gulp.task(&apos;css_compress&apos;,[&apos;css_merge&apos;],function()&#123;</div><div class="line">     return gulp.src(src.cssStyle)</div><div class="line">         .pipe(cache(minifyCss()))</div><div class="line">         .pipe(gulp.dest(dest.css));</div><div class="line"> &#125;)</div><div class="line"> </div><div class="line"> //js压缩</div><div class="line"> gulp.task(&apos;js_compress&apos;, function() &#123;</div><div class="line">     //tinymce中的plugin有min文件，取消压缩，并不复制到dist中</div><div class="line">     var isLegalFileNotMinFilter = filter(function(file)&#123;</div><div class="line">         return !isMinJsFile.test(file.path)</div><div class="line">     &#125;)</div><div class="line">     return gulp.src(src.js)</div><div class="line">         //.pipe(isLegalFileNotMinFilter())</div><div class="line">         .pipe(uglify())</div><div class="line">         .pipe(gulp.dest(dest.js))</div><div class="line">         .pipe(notify(&#123; message: &apos;js_compress task complete&apos; &#125;));</div><div class="line"> &#125;);</div><div class="line"> </div><div class="line"> //images压缩</div><div class="line"> gulp.task(&apos;images_compress&apos;, function() &#123;</div><div class="line">     return gulp.src(src.images)</div><div class="line">         .pipe(cache( imagemin(&#123;</div><div class="line">             optimizationLevel: 5,</div><div class="line">             progressive: true,</div><div class="line">             interlaced: true &#125;)))</div><div class="line">         .pipe(gulp.dest(dest.images))</div><div class="line">         .pipe(notify(&#123; message: &apos;Images task complete&apos; &#125;));</div><div class="line"> &#125;);</div><div class="line"> </div><div class="line"> //html压缩</div><div class="line"> gulp.task(&apos;html_compress&apos;, function() &#123;</div><div class="line">     return gulp.src(src.html)</div><div class="line">         .pipe(minifyHtml(&#123;</div><div class="line">             empty:   true,</div><div class="line">             spare: true,</div><div class="line">             quotes: true</div><div class="line">         &#125;))</div><div class="line">         .pipe(gulp.dest(dest.html))</div><div class="line">         .pipe(notify(&#123; message: &apos;Html task complete&apos; &#125;));</div><div class="line"> &#125;);</div><div class="line"> </div><div class="line"> //复制其他文件到dist</div><div class="line"> gulp.task(&apos;copy_plugin&apos;,function()&#123;</div><div class="line">     return gulp.src(src.plugin)</div><div class="line">         .pipe(gulp.dest(dest.plugin));</div><div class="line"> &#125;)</div><div class="line"> </div><div class="line"> //开发清除</div><div class="line"> gulp.task(&apos;clean-static&apos;, function() &#123;</div><div class="line">     return gulp.src([src.cssPath, src.imgsPath + &apos;/sprite.png&apos;])</div><div class="line">         .pipe(clean());</div><div class="line">     //del([dest.less + &apos;/*.css&apos;, [dest.js + &apos;/*.js&apos;, !dest.js + &apos;jquery.js&apos;], dest.images + &apos;**/*&apos;, dest.html + &apos;/*.html&apos;]);</div><div class="line"> &#125;);</div><div class="line"> //生产清除</div><div class="line"> gulp.task(&apos;clean-dist&apos;, function() &#123;</div><div class="line">     return gulp.src(dest.all)</div><div class="line">         .pipe(clean());</div><div class="line"> &#125;);</div><div class="line"> </div><div class="line"> </div><div class="line"> /*---------------------------------- 监听任务 -----------------------------------*/</div><div class="line"> gulp.task(&apos;watch&apos;, function() &#123;</div><div class="line">     // Watch .less files</div><div class="line">     gulp.watch(src.less, [&apos;css_merge&apos;]);</div><div class="line">     // Watch .js files</div><div class="line">     //gulp.watch(src.js, [&apos;js&apos;]);</div><div class="line">     // Watch image files</div><div class="line">     //gulp.watch(src.images, [&apos;images&apos;]);</div><div class="line">     // Watch html files</div><div class="line">     //gulp.watch(src.html, [&apos;html&apos;]);</div><div class="line"> &#125;);</div><div class="line"> </div><div class="line"> </div><div class="line"> //开发环境复合任务</div><div class="line"> gulp.task(&apos;develop&apos;, function (callback) &#123;</div><div class="line">     runSequence(</div><div class="line">         [&apos;clean-static&apos;],</div><div class="line">         [&apos;sprite&apos;],</div><div class="line">         [&apos;css_merge&apos;],</div><div class="line">         [&apos;watch&apos;],</div><div class="line">         callback);</div><div class="line"> &#125;);</div><div class="line"> </div><div class="line"> //生产环境复合任务</div><div class="line"> gulp.task(&apos;product&apos;, function (callback) &#123;</div><div class="line">     runSequence(</div><div class="line">         [&apos;clean-dist&apos;],</div><div class="line">         [&apos;images_compress&apos;],</div><div class="line">         [&apos;js_compress&apos;,&apos;css_compress&apos;],</div><div class="line">         [&apos;html_compress&apos;,&apos;copy_plugin&apos;],</div><div class="line">         callback);</div><div class="line"> &#125;);</div><div class="line"> </div><div class="line"> //默认任务</div><div class="line"> gulp.task(&apos;default&apos;, [&apos;develop&apos;]);</div></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/02/26/gulp使用笔记/" data-id="cj7rekuy700049cqaglr1o0ta" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/gulp/">gulp</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/hexo/">hexo</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2016/02/29/iScroll 5 使用笔记/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          iScroll 5 使用笔记
        
      </div>
    </a>
  
  
    <a href="/2016/02/23/Handlebars使用笔记一/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Handlebars使用笔记一</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/前段记录/">前段记录</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/前端记录/">前端记录</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/随心所记/">随心所记</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/2016/">2016</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/DateTimePicker/">DateTimePicker</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Handlebars/">Handlebars</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/css/">css</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/css3/">css3</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/gulp/">gulp</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hexo/">hexo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/iScroll/">iScroll</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/javascript/">javascript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/人和事/">人和事</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/发表情/">发表情</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/微信/">微信</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/总结/">总结</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/日历/">日历</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/装逼/">装逼</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/2016/" style="font-size: 10px;">2016</a> <a href="/tags/DateTimePicker/" style="font-size: 10px;">DateTimePicker</a> <a href="/tags/Handlebars/" style="font-size: 10px;">Handlebars</a> <a href="/tags/css/" style="font-size: 15px;">css</a> <a href="/tags/css3/" style="font-size: 15px;">css3</a> <a href="/tags/gulp/" style="font-size: 15px;">gulp</a> <a href="/tags/hexo/" style="font-size: 20px;">hexo</a> <a href="/tags/iScroll/" style="font-size: 10px;">iScroll</a> <a href="/tags/javascript/" style="font-size: 10px;">javascript</a> <a href="/tags/人和事/" style="font-size: 10px;">人和事</a> <a href="/tags/发表情/" style="font-size: 10px;">发表情</a> <a href="/tags/微信/" style="font-size: 10px;">微信</a> <a href="/tags/总结/" style="font-size: 10px;">总结</a> <a href="/tags/日历/" style="font-size: 10px;">日历</a> <a href="/tags/装逼/" style="font-size: 10px;">装逼</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/05/">May 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/04/">April 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/03/">March 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/02/">February 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/12/">December 2015</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2016/05/30/css晋级之路（二）/">css晋级之路（二）</a>
          </li>
        
          <li>
            <a href="/2016/05/27/css晋级之路/">css晋级之路</a>
          </li>
        
          <li>
            <a href="/2016/04/26/如何在换电脑的情况下继续装逼发博客/">如何在换电脑的情况下继续装逼发博客！</a>
          </li>
        
          <li>
            <a href="/2016/03/08/类似微信聊天发表情web版/">类似微信聊天发表情web版</a>
          </li>
        
          <li>
            <a href="/2016/03/08/日历选择周/">日历选择周</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2017 John Doe<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>